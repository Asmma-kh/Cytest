<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>الخدمات الأمنية</title>
  <link rel="stylesheet" href="">
  <style>
   /* خلفية أساسية بلون البيج */
body {
  background-color: #f4ede4;
  font-family: 'Tajawal', Arial, sans-serif;
  margin: 0;
  padding: 0;
  position: relative;
  overflow-x: hidden;
  color: #111;
}

/* الماتريكس الأبيض */
.matrix-background {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: transparent;
  z-index: 0;
  opacity: 0.5;
  pointer-events: none;
}

canvas#matrix {
  position: absolute;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
}

/* اللوجو */
.logo {
  font-size: 32px;
  color: #111;
  text-align: center;
  margin: 20px 0;
  animation: glow 2s ease-in-out infinite;
  z-index: 5;
  position: relative;
}
@keyframes glow {
  0%, 100% { text-shadow: 0 0 5px #555; }
  50% { text-shadow: 0 0 20px #333; }
}

/* شريط المعلومات */
.live-bar {
  background-color: #111;
  color: #f4ede4;
  padding: 10px;
  text-align: center;
  font-size: 14px;
  border-top: 1px solid #333;
  border-bottom: 1px solid #333;
  z-index: 4;
  position: relative;
}

/* شريط سفلي */
.live-bar2 {
  position: fixed;
  bottom: 0;
  width: 100%;
  background: #111;
  color: #f4ede4;
  font-size: 14px;
  display: flex;
  justify-content: space-around;
  padding: 10px;
  z-index: 20;
  font-family: monospace;
}

/* الكروت */
.cards-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 20px;
  padding: 40px;
  max-width: 1200px;
  margin: auto;
  box-sizing: border-box;
  position: relative;
  z-index: 5;
}

.card {
  background-color: #fff;
  color: #111;
  padding: 25px;
  border-radius: 10px;
  text-align: center;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
  transition: transform 0.3s ease;
  width: 100%;
  box-sizing: border-box;
}
.card:hover {
  transform: scale(1.03);
}

.card textarea, .card select, .card input {
  width: 100%;
  padding: 10px;
  margin-top: 10px;
  border-radius: 6px;
  border: 1px solid #111;
  box-sizing: border-box;
  background: #f9f9f9;
  color: #111;
}

/* الأزرار */
.card button {
  margin-top: 10px;
  background-color: #111;
  border: none;
  color: #f4ede4;
  text-transform: uppercase;
  font-weight: bold;
  padding: 10px 18px;
  border-radius: 5px;
  cursor: pointer;
  transition: all 0.3s ease-in-out;
}
.card button:hover {
  background-color: #333;
  color: #fff;
}

/* نتائج */
.card pre {
  background: #111;
  color: #f4ede4;
  padding: 10px;
  border-radius: 5px;
  margin-top: 10px;
  text-align: left;
}

/* مودال */
.modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.7);
  justify-content: center;
  align-items: center;
  z-index: 999;
}
.modal-content {
  background: #fff;
  padding: 20px;
  border-radius: 10px;
  max-width: 90%;
  max-height: 80%;
  overflow: auto;
  color: #111;
}
.pre{
   width: 100%;
  padding: 10px;
  border-radius: 6px;
  border: 1px solid #111;
  box-sizing: border-box;
  background: #000000;
  color: #ffffff;
  padding: 10px;
  border-radius: 5px;
  margin-top: 10px;
  text-align: left;
}

  </style>
</head>
<body>
  <div class="matrix-background">
    <canvas id="matrix"></canvas>
  </div>

  <div class="logo"><img src="1.webp" width="50" height="50"> Cytest</div>
  <div class="live-bar">
    ✅ عدد التهديدات المحمية: 126 | 🕒 آخر تحديث للفحص: قبل 3 دقائق | 🚨 محاولة اختراق مرفوضة: 1
  </div>

  <div class="live-bar2">
    <span>✅ جلستك الآن بأمان</span>
    <span>🕒 تم الفحص خلال: قبل 3 دقائق</span>
    <span>🚨 منع محاولات الاختراق: 1</span>
  </div>


  <div class="cards-container">

    <div class="card">
      <h3>🔐 تشفير البيانات</h3>
      <textarea id="encrypt-text" placeholder="أدخل النص هنا..."></textarea>
      <select id="encrypt-algo">
        <option value="aes">AES</option>
        <option value="rsa">RSA</option>
      </select>
      <button onclick="encryptText()">تشفير</button>
      <textarea class="pre" id="encrypt-result"></textarea>
      
    </div>

    <div class="card">
      <h3>🔓 فك التشفير</h3>
      <textarea id="decrypt-text" placeholder="أدخل النص المشفر..."></textarea>
      <button onclick="decryptText()">فك التشفير</button>
         <textarea class="pre" id="decrypt-result"></textarea>
      
    </div>

    <div class="card">
      <h3>🛡️ فحص الفيروسات</h3>
      <input type="file" id="scan-file">
      <button onclick="scanFile()">ابدأ الفحص</button>
      <textarea class="pre" id="scan-result"></textarea>
      
    </div>

    <div class="card">
      <h3>🔑 توليد كلمات مرور</h3>
      <input type="number" id="pass-length" placeholder="طول كلمة المرور (مثلاً: 12)">
      <label><input type="checkbox" id="pass-symbols"> رموز</label>
      <label><input type="checkbox" id="pass-numbers"> أرقام</label>
      <button onclick="generatePassword()">توليد</button>
      <textarea id="pass-result" class="pre"></textarea>
      
    </div>

    <div class="card">
      <h3>📧 تحقق من تسرب البريد</h3>
      <input type="email" id="email-check" placeholder="example@email.com">
      <button onclick="checkEmailLeak()">تحقق</button>
      <textarea class="pre" id="email-result"></textarea>
      
    </div>

    <div class="card">
      <h3>💡 نصيحة أمنية</h3>
      <button onclick="showSecurityTip()">نصيحة جديدة</button>
      <textarea class="pre" id="tip-box">💡استخدم كلمات مرور فريدة لكل حساب.</textarea>
      
    </div>

    <div class="card">
      <h3>🔒 تحقق ثنائي تجريبي</h3>
      <p>أدخل الرمز التجريبي:</p>
      <input type="text" id="twofa-code" placeholder="123456">
      <button onclick="verify2FA()">تحقق</button>
      <textarea class="pre" id="twofa-result"></textarea>
      
    </div>

    <div class="card">
      <h3>📁 تشفير الملفات</h3>
      <input type="file" id="encryptFile" />
      <button onclick="encryptFileData()">🔐 تشفير</button>
      <p id="encryptStatus"></p>
    </div>

    <div class="card">
      <h3>📂 فك تشفير الملفات</h3>
      <input type="file" id="decryptFile" />
      <button onclick="decryptFileData()">🔓 فك التشفير</button>
      <p id="decryptedResult"></p>
    </div>

    <div class="modal" id="encryptedModal">
      <div class="modal-content">
        <h3>🔐 ملفك المشفر</h3>
      <p id="originalFileName"></p>
      <textarea id="modalEncryptedContent" readonly style="width:100%; height:200px;"></textarea><br>
      <button onclick="downloadEncrypted()">📥 تحميل الملف</button>
      <button onclick="closeModal()">إغلاق</button>
      </div>

  </div>
  <script>
    function encryptText() {
      const text = document.getElementById("encrypt-text").value.trim();
      const algo = document.getElementById("encrypt-algo").value;
      const result = document.getElementById("encrypt-result");
      if (!text) return result.textContent = "⚠️ يرجى إدخال نص أولاً.";
      result.textContent = `[${algo.toUpperCase()}] ${btoa(text)}`;
    }

    function decryptText() {
      const text = document.getElementById("decrypt-text").value.trim();
      const result = document.getElementById("decrypt-result");
      if (!text) return result.textContent = "⚠️ يرجى إدخال نص مشفر.";
      try {
        result.textContent = atob(text);
      } catch (e) {
        result.textContent = "❌ النص غير صالح أو ليس مشفرًا بشكل صحيح.";
      }
    }

    function scanFile() {
      const file = document.getElementById("scan-file").files[0];
      const result = document.getElementById("scan-result");
      if (!file) return result.textContent = "⚠️ يرجى اختيار ملف.";
      result.textContent = `🔍 فحص الملف: ${file.name}\n✅ لا توجد تهديدات مكتشفة.`;
    }

    function generatePassword() {
      const length = parseInt(document.getElementById("pass-length").value) || 12;
      const useSymbols = document.getElementById("pass-symbols").checked;
      const useNumbers = document.getElementById("pass-numbers").checked;
      let chars = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";
      if (useNumbers) chars += "0123456789";
      if (useSymbols) chars += "!@#$%^&*()_+-=<>?";
      let pass = "";
      for (let i = 0; i < length; i++) {
        pass += chars.charAt(Math.floor(Math.random() * chars.length));
      }
      document.getElementById("pass-result").textContent = pass;
    }

    function checkEmailLeak() {
      const email = document.getElementById("email-check").value.trim();
      const result = document.getElementById("email-result");
      if (!email) return result.textContent = "⚠️ يرجى إدخال بريد إلكتروني.";
      const leaked = Math.random() < 0.5;
      result.textContent = leaked
        ? `⚠️ تم تسريب البريد: ${email}`
        : `✅ لا توجد تسريبات للبريد: ${email}`;
    }

    const tips = [
      "🌐 استخدم VPN عند تصفح الإنترنت على شبكات عامة.",
      "🛡️فعل التحقق الثنائي لكل حساب.",
      "📦 حدّث برامجك وأنظمتك باستمرار لتفادي الثغرات.",
   "🧠 كن حذراً، لا تفصح عن معلوماتك .",
    "📧 لا تشارك بريدك الإلكتروني الأساسي في كل المواقع.",
    ];
    function showSecurityTip() {
      const random = Math.floor(Math.random() * tips.length);
      document.getElementById("tip-box").textContent = `💡 ${tips[random]}`;
    }

    function verify2FA() {
      const input = document.getElementById("twofa-code").value.trim();
      const result = document.getElementById("twofa-result");
      if (input === "123456") {
        result.textContent = "✅ تم التحقق بنجاح (تجريبي).";
      } else {
        result.textContent = "❌ رمز غير صحيح.";
      }
    }

    function encryptFileData() {
      const file = document.getElementById('encryptFile').files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = function(e) {
        const arrayBuffer = e.target.result;
        const bytes = new Uint8Array(arrayBuffer);
        let binary = '';
        for (let i = 0; i < bytes.byteLength; i++) {
          binary += String.fromCharCode(bytes[i]);
        }
        const base64 = btoa(binary);
        const finalData = JSON.stringify({ filename: file.name, data: base64 });

        document.getElementById('encryptStatus').textContent = '✅ تم تشفير الملف بنجاح';
        document.getElementById('modalEncryptedContent').value = finalData;
        document.getElementById('originalFileName').textContent = `📄 اسم الملف الأصلي: ${file.name}`;
        document.getElementById('encryptedModal').style.display = 'flex';
      };
      reader.readAsArrayBuffer(file);
    }

    function decryptFileData() {
      const file = document.getElementById('decryptFile').files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = function(e) {
        try {
          const content = JSON.parse(e.target.result);
          const binary = atob(content.data);
          let bytes = new Uint8Array(binary.length);
          for (let i = 0; i < binary.length; i++) {
            bytes[i] = binary.charCodeAt(i);
          }
          const blob = new Blob([bytes]);
          const link = document.createElement('a');
          link.href = URL.createObjectURL(blob);
          link.download = content.filename || 'decrypted_file';
          link.click();
          document.getElementById('decryptedResult').textContent = `✅ تم فك التشفير وتحميل الملف: ${content.filename}`;
        } catch (err) {
          document.getElementById('decryptedResult').textContent = '⚠️ الملف غير صالح أو لم يتم تشفيره بالطريقة الصحيحة.';
        }
      };
      reader.readAsText(file);
    }

    function downloadEncrypted() {
      const content = document.getElementById('modalEncryptedContent').value;
      const blob = new Blob([content], { type: 'application/json' });
      const link = document.createElement('a');
      link.href = URL.createObjectURL(blob);
      link.download = 'encrypted.cybersecure';
      link.click();
    }

    function closeModal() {
      document.getElementById('encryptedModal').style.display = 'none';
    }


    const canvas = document.getElementById('matrix');
    const ctx = canvas.getContext('2d');
    canvas.height = window.innerHeight;
    canvas.width = window.innerWidth;

    const letters = '0101010101010101'.split('');
    const fontSize = 14;
    const columns = canvas.width / fontSize;
    const drops = Array.from({ length: columns }).fill(1);

    function drawMatrix() {
      ctx.fillStyle = "rgba(35, 35, 35, 0.8)";
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      ctx.fillStyle = 'rgba(255,255,255,0.8)';
      ctx.font = fontSize + 'px monospace';
      for (let i = 0; i < drops.length; i++) {
        const text = letters[Math.floor(Math.random() * letters.length)];
        ctx.fillText(text, i * fontSize, drops[i] * fontSize);
        if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
          drops[i] = 0;
        }
        drops[i]++;
      }
    }

    setInterval(drawMatrix, 50);

    window.addEventListener('resize', () => {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    });
  </script>
  <a href="index.html">العودة للقائمة الرئيسية</a>
</body>
</html>
